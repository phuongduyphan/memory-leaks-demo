<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Document</title>
</head>

<body>
  <h1>Example 3</h1>

  <h1>Example 3: Scattered objects (not add up)</h1>
  <p><button onclick="init()">Create scattered objects</button></p>
</body>
<script>
  function Item(x) {
    this.x = x;
  }

  var myObj = {};

  function numbers() {
    var result = new Array(10000);
    for (var i = 0, l = result.length; i < l; ++i) result[i] = new Item(i);
    return new Item(result);
  }

  function strings() {
    var result = new Array(10000);
    for (var i = 0, l = result.length; i < l; ++i) {
      result[i] = new Item(i.toString());
    }
    return new Item(result);
  }

  function init() {
    myObj.numberCache = numbers();
    myObj.stringCache = strings();

    myObj.items = {
      a: new Item('a'),
      b: new Item('b'),
      c: myObj.stringCache.x[1]
    }

    documentCache = new Item(document.body.textContent.toLowerCase());
  }
</script>

</html>